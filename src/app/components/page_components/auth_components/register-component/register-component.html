<div class="app-element-wrapper">
    <mat-card class="auth-card">

        <h2 class="auth-title">Register</h2>

        <form [formGroup]="form" (ngSubmit)="onSubmit()">
            <!-- EMAIL -->
            <mat-form-field appearance="outline" class="auth-input">
                <mat-label>Email</mat-label>
                <input matInput formControlName="email" />

                <mat-error *ngIf="emailCtrl.hasError('required') && (emailCtrl.touched || emailCtrl.dirty)">
                    Email is required
                </mat-error>

                <mat-error *ngIf="emailCtrl.hasError('email') && (emailCtrl.touched || emailCtrl.dirty)">
                    Enter a valid email
                </mat-error>
            </mat-form-field>

            <!-- PASSWORD -->
            <mat-form-field appearance="outline" class="auth-input">
                <mat-label>Password</mat-label>
                <input matInput type="password" formControlName="password" />

                <mat-error *ngIf="passwordCtrl.hasError('required') && (passwordCtrl.touched || passwordCtrl.dirty)">
                    Password is required
                </mat-error>
            </mat-form-field>

            <!-- CONFIRM PASSWORD -->
            <mat-form-field appearance="outline" class="auth-input">
                <mat-label>Confirm Password</mat-label>
                <input matInput type="password" formControlName="confirmPassword" />

                <mat-error
                    *ngIf="confirmPasswordCtrl.hasError('required') && (confirmPasswordCtrl.touched || confirmPasswordCtrl.dirty)">
                    Confirm password is required
                </mat-error>

                <mat-error
                    *ngIf="confirmPasswordCtrl.hasError('passwordsMismatch') && (confirmPasswordCtrl.touched || confirmPasswordCtrl.dirty)">
                    Passwords do not match
                </mat-error>
            </mat-form-field>

            <!-- SUBMIT -->
            <button mat-raised-button color="primary" type="submit" class="auth-submit-btn"
                [disabled]="loading() || (submitted && form.invalid)">
                <mat-spinner *ngIf="loading()" diameter="18" class="btn-spinner"></mat-spinner>
                <span *ngIf="!loading()">Create Account</span>
            </button>
        </form>

        <!-- SWITCH -->
        <p class="auth-switch-link">
            Already have an account?
            <a routerLink="/login">Login</a>
        </p>

    </mat-card>
</div>